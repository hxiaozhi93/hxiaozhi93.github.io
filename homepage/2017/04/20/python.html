<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="keywords" content="programming" />
    <meta name="description" content="python" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=0" />
    <title>小志同学 - python</title>
    <link rel="shortcut icon" href="favicon.ico" />
    <link rel="stylesheet" href="https://cdn.bootcss.com/highlight.js/8.0/styles/sunburst.min.css" />
    <link rel="stylesheet/less" href="/homepage/assets/style/style.less" />
    <script src="https://lib.sinaapp.com/js/jquery/1.9.1/jquery-1.9.1.min.js"></script>
    <script src="https://cdn.bootcss.com/less.js/1.7.0/less.min.js"></script>
    <script src="https://cdn.bootcss.com/highlight.js/8.0/highlight.min.js"></script>
</head>
<body>
<script>
    var pageData = {};
    var _hmt = _hmt || [];
    (function () {
        var hm = document.createElement('script');
        hm.src = 'https://hm.baidu.com/hm.js?6b9830e6ab8073ce1a44ad49a03d8596';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>
<img src="http://oij8a9ql4.bkt.clouddn.com/portrait.jpg" alt="小志同学" width="0" height="0" />
<nav>
    <a href="javascript:;" class="js_menu_btn">
        <span></span>
        <span></span>
        <span></span>
    </a>
    <ul class="js_menu">
        <li><a href="/homepage/">Home</a></li>
        <li><a href="/homepage/views/posts" class="js_goto_posts">Posts</a></li>
        <li><a href="/homepage/views/about">About</a></li>
    </ul>
</nav>
<a href="javascript:;" class="gotop js_gotop"></a>
<header class="post" style="background-image: url('http://oij8a9ql4.bkt.clouddn.com/banner.jpg')">
    <div>
        <h2>python</h2>
        <time>20 Apr 2017</time>
        <p class="abstract">Python编程，Python网络爬虫与信息提取.....</p>
        <ul class="c-fix">
            
            <li>programming</li>
            
            <li>python</li>

            <li>爬虫</li>
            
        </ul>
    </div>
</header>
<article class="js_article">

 

<hr />

<p>Python的创始人为吉多. 范罗苏姆(Guido van Rossum)</p>
<p>Python 2.0 于2000 年10 月16 日发布，实现完整的垃圾回收，并且支持Unicode</p>
<p>Python 3.0 于2008 年12 月3 日发布，此版本不完全兼容之前的版本</p>
<p>Python 全面支持面向对象编程，函数、模块、数字、字符串都是对象，并且完全支持继承、重载、派生、多继承。Python支持运算符重载，因此，也支持泛型设计。函数式编程方面，Python 提供了functools和itertools 予以支持</p>

<hr/>

<p>应用范围：</p>
<p>Web开发:定义WSGI 应用接口，通过mod_wsgi模块，配合Apache使用；Python 编写的Gunicom可做为Web服务器；提供了很多优秀的框架，如Django、TurboGears、web2py、Zope、flask 等，方面开发者轻松、快速开发复杂的Web应用；各种网络协议的完善支持，提供了Twisted和gevent等库，被广泛应用于高性能网络服务和应用的开发。</p>
<p>GUI开发:提供Tkinter库，支持简单的GUI开发；wxPython和PyQt可以被应用于开发跨平台的桌面软件，与用户的桌面环境相契合；通过PyInstaller可将程序发布为独立的安装程序包。</p>
<p>操作系统:一些Linux发行版的安装器使用Python编写，如Ubuntu的Ubiquity安装器、Red Hat 和Fedora 的Anaconda 安装器、Gentoo 的Portage 包管理器等；通过pywin32，Python能访问Windows的COM及其他WindowsAPI，通过IronPython，Python能够直接调用.Net Framework；Python编写的系统管理脚本在可读性、性能、源程序重用性、扩展性方面都优于普通shell 脚本。</p>
<p>其他：NumPy、SciPy、Matplotlib可用于编写科学计算程序；一些公司可能会使用Scons代替make来构建C++程序；很多游戏使用C++编写图形显示等高性能模块，使用Python 或者Lua 来编写游戏的逻辑和服务。</p>
器

<hr />

<p>使用Python 编写的著名应用</p>
<p>Reddit社交分享网站；Dropbox文件分享服务；Django鼓励快速开发的Web应用框架；Pylons Web 应用框架；Zope 应用服务器；TurboGears 另一个Web 应用快速开发框架；TwistedPython的网络应用程序框架；Fabric用于管理成百上千台Linux主机的程序库；MoinMoinWikiPython写成的Wiki程序；Trac使用Python编写的BUG管理程序；Mailman使用Python编写的邮件列表软件；Mezzanine基于Django编写的内容管理系统；flask Python 微Web 框架；EVE 应用于网络游戏；Blender以C与Python开发的开源3D 绘图软件。</p>

<hr />

<p>Python网络爬虫与信息提取：</p>
<p>(1)常用Python IDE工具</p>
<p>文本工具类：IDLE，Notepad++，Sublime Text，Vim Emacs，Atom，komodo Edit</p>
<p>集成工具类：Pycharm，Wing，Pydev Eclipse，Visual Studio PTVS，Anaconda Spyder，Canopy</p>

<p>(2)Requests库：</p>
<p>7个主要方法：requests。request()/get()/head()/post()/put()/path()/delete()</p>

<p>(3)Robots协议</p>
<p>(4)BeautifulSoup库：</p>
<p>(5)Scrapy爬虫框架</p>

<hr />


<p>python中的小技巧：</p>
<p>交换数字：x, y = 10, 20  ————  x, y = y, x</p>
<p>打印引入模块的文件路径：import numpy，print（numpy）</p>
<p>交互环境下的 “_” 操作符：“_” 是上一个执行的表达式的输出</p>
<p>在 Python 脚本中设置断点，import pdb，pdb.set_trace()</p>
<p>检查 Python 中的对象：test= [1,2,3]，print( dir(test) )</p>
<p>运行时检测 Python 版本:print("Current Python version: ", sys.version)</p>
<p>翻转字符串/列表:</p>
<p>找到列表中出现最频繁的数:,test = [1,2,3,4,2,2,3,1,4,4,4],print(max(set(test), key=test.count))</p>
<p>检查一个对象的内存使用:print(sys.getsizeof(x))</p>
<p></p>

<hr />

<p>Miniconda安装与测试：</p>
<p>conda list：查看安装的packages；conda version：conda版本；conda --update conda：更新</p>
<p>conda create --name xx：创建新环境；conda info --envs：列出所有环境；conda install xx：安装package</p>
<p>pip install xx：安装package</p>

<hr />
<p>使用__future__</p>
<p>Python的每个新版本都会增加一些新的功能，或者对原来的功能作一些改动。有些改动是不兼容旧版本的，也就是在当前版本运行正常的代码，到下一个版本运行就可能不正常了。Python提供了__future__模块，把下一个新版本的特性导入到当前版本，于是我们就可以在当前版本中测试一些新版本的特性。</p>
<p>例如：在Python 2.x中，对于除法有两种情况，如果是整数相除，结果仍是整数，余数会被扔掉，这种除法叫“地板除”，要做精确除法，必须把其中一个数变成浮点数。而在Python 3.x中，所有的除法都是精确除法，地板除用//表示。如果你想在Python 2.7的代码中直接使用Python 3.x的除法，可以通过__future__模块的division实现</p>
<p>from __future__ import print_function</p>



<hr />
<p>from time import time</p>
<p>import logging</p>
<p>import pylab as pl</p>

<hr />

<p>参考自机器学习实战</p>
<p>查看版本：python --version</p>
<p>python容器：列表（List），例如a=[],a.append('one'),a.append(2),</p>
<p>python容器：字典（Dictionary）,例如b={},b['cat']='dog',b[3]=4,</p>
<p>python容器：集合（set），例如s=set([1,2,3]),sa=set([2,3,4]),s-sa,s&sa,s|sa,</p>
<p>遍历字典：a={'cat':'dog,1:2},for item in a : print item,a[item]</p>
<p>列表推导式：a=[1,2,3],list=[item*3 for item in a],等价于list=[],for item in a:list.append(item*3)</p>
<p>numpy:python的一个矩阵类型，提供大量矩阵处理函数，其内部运算通过C语言而非python实现。numpy包含两种基本数据类型：数组和矩阵。</p>
<p>from numpy import array,a=((1,2,3)),b=((2,3,4)),a+b,a[1],a*2,a**2</p>
<p>from numpy import mat,matrix,mm=mat([1,2,3]),nn=[2,3,4],nnn=mat(nn),mm*nnn(错),mm*nnn.T,</p>
<p>shape方法查看矩阵或数组维数：from numpy import shape,shape(mm),shape(nnn.T)</p>
<p>数组乘：*（数组对应元素相乘），矩阵乘：*，矩阵元素相乘：multiply</p>
<p>from numpy import mutiply,multiply(mm,nnn),multiply(mm,nnn.T)(这个也可以计算？)</p>
<p>排序方法：mm.sort()，例如aa=mat([1,3,2]),aa.sort(),（原地排序，即排序后的结果占用原始的存储空间，若要保留数据原序，需做一份数据拷贝）</p>
<p>排序序号：aa=mat([1,3,2]),aa.argsort(),</p>
<p>矩阵均值：aa.mean(),</p>
<p>取元素：aa=mat([[1,2,3],[4,5,6]]),shape(aa),aa[1,:],aa[1,0:2],</p>
<p>查找和解析HTML：BeautifulSoup库，</p>
<p>Mrjob：用于在Amazon网络服务上启动MapReduce服务。</p>

<hr />

<p>参考自CS231n课程笔记：Python Numpy教程</p>
<p>Python实现的经典的quicksort算法:</p>
<p>def quicksort(arr):</p>
<p>    if len(arr) <= 1:</p>
<p>        return arr</p>
<p>    pivot = arr[len(arr) / 2]</p>
<p>    left = [x for x in arr if x < pivot]</p>
<p>    middle = [x for x in arr if x == pivot]</p>
<p>    right = [x for x in arr if x > pivot]</p>
<p>    return quicksort(left) + middle + quicksort(right)</p>
<p>print quicksort([3,6,8,10,1,2,1])</p>
<p>数据类型：a=3,print type(a),</p>
<p>布尔型：Python实现了所有的布尔逻辑，但用的是英语，而不是我们习惯的操作符（比如&&和||等）。例如：t=Ture,f=False,print type(t),print t and f,t or f,not t,t!=f,</p>
<p>字符串：a='abc',d='efg',print a,len(a),c=a+' '+d,</p>
<p>字符串对象方法：a.capitalize(),a.upper(),a.rjust(7),a.center(7),a.replace('b','bbb'),'     aaa'.strip()</p>
<p>c='%s %s %d' % (a,b,3)</p>

<p>列表：a=[1,2,3],a.append('a'),a.pop(),a[-1],</p>
<p>切片：</p>

<p>循环Loops，要在循环体内访问每个元素的指针，可以使用内置的enumerate函数，a=['cat','dog'],for idx,aa in enumerate(a):  print '#%d: %s' % (idx+1,aa),</p>
<p>元组是一个值的有序列表（不可改变）,和列表最重要的不同在于，元组可以在字典中用作键，还可以作为集合的元素，而列表不行。</p>
<p>Python函数使用def来定义函数</p>

<p>类class</p>


<p>数组Arrays:np.zeros((2,2)), np.full((2,2), 7),np.eye(2),np.random.random((2,2)),</p>
<p>和MATLAB不同，*是元素逐个相乘，而不是矩阵乘法。在Numpy中使用dot来进行矩阵乘法：</p>
<p>计算数组的函数如sum：x = np.array([[1,2],[3,4]])，print np.sum(x)，print np.sum(x, axis=0)，print np.sum(x, axis=1)，</p>
<p>y = np.empty_like(x)   # Create an empty matrix with the same shape as x</p>
<p>vv = np.tile(v, (4, 1))  # Stack 4 copies of v on top of each other</p>
<p>SciPy提供了一些操作图像的基本函数。比如，它提供了将图像从硬盘读入到数组的函数，也提供了将数组中数据写入的硬盘成为图像的函数。</p>
<p>from scipy.misc import imread, imsave, imresize;img = imread('assets/cat.jpg');print img.dtype, img.shape;img_tinted = imresize(img_tinted, (300, 300));</p>
<p>函数scipy.io.loadmat和scipy.io.savemat能够让你读和写MATLAB文件。</p>
<p>函数scipy.spatial.distance.pdist能够计算集合中所有两点之间的距离</p>
<p>import numpy as np</p>
<p>from scipy.misc import imread,imsave,imresize</p>
<p>import matplotlib.pyplot as plt</p>
<p>img=imread('dog.jpg')</p>
<p>print img.dtype,img.shape</p>
<p>img_tinted=img*[1,0.95,0.9]</p>
<p>img_tinted=imresize(img_tinted,(300,300))</p>
<p>imsave('dog_tinted.jpg',img_tinted)</p>
<p>plt.subplot(1,2,1)</p>
<p>plt.imshow(img)</p>
<p>plt.title('dog')</p>
<p>plt.subplot(1,2,2)</p>
<p>plt.imshow(np.uint8(img_tinted))</p>
<p>plt.tilte('dog_tinted')</p>
<p>plt.show()</p>

<hr />

<p>from numpy import mat,matrix,random</p>
<p>m=mat(random.rand(4,4))</p>
<p>mi=m.I  #求逆</p>
<p>m.T   #求转置</p>
<p>mmi=m*mi  #结果应为单位矩阵，但是计算机处理误差产生非常小的元素</p>
<p>mmi-eye(4)  #得到误差值</p>

<hr />

<p>Python strip() 方法用于移除字符串头尾指定的字符（默认为空格）。</p>
<p>fr =open(filename),arrayOLines=fr.readlines()</p>
<p>Python split()通过指定分隔符对字符串进行切片，如果参数num 有指定值，则仅分隔 num 个子字符串</p>
<p>tile()函数将变量内容复制成输入矩阵同样大小的矩阵</p>
<p>函数raw_input():该函数允许用户输入文本行命令并返回用户输入的命令</p>
<p>from os import listdir,从os模块导入函数listdir，列出给定目录的文件名，例如trainingfilelist=listdir('trainingdigits')</p>
<p>列表的append()和extend()方法</p>

<hr />

<p>参考自机器学习实战</p>
<p>import operator，classcount为一个字典{‘标签’：数目},根据数目排序，sortedclasscount=sorted(classcount.iteritems(),key=operator.itemgetter(1),reverse=True),return sortedclasscount [0][0]</p>
<p>python解析文本文件，例如函数输入为文件名字符串，输出为训练样本矩阵和类标签向量。</p>
<p>def file2matrix(filename):</p>
<p>&nbsp; fr =open(filename)#打开文件</p>
<p>&nbsp; arrayOLines=fr.readlines()</p>
<p>&nbsp; numberOfLines=len(arrayOfLines)</p>
<p>&nbsp; returnMat=zeros((numberOfLines,3))#0填充的numpy矩阵</p>
<p>&nbsp; classLabelVector=[]</p>
<p>&nbsp; index=0</p>
<p>&nbsp; for line in arrayOLines:</p>
<p>&nbsp; &nbsp; line=line.strip()#截取所有回车字符</p>
<p>&nbsp; &nbsp; listFromLine=line.split('\t')#使用tab字符\t将整行数据分割成元素列表</p>
<p>&nbsp; &nbsp; returnMat[index,:]=listFromLine[0:3]</p>
<p>&nbsp; &nbsp; classLabelVector.append(int(listFromLine[-1])#索引值-1表示最后一列元素</p>
<p>&nbsp; &nbsp; index+=1</p>
<p>&nbsp; return returnMat,classLabelVector</p>

<p>使用MatPlotlib创建散点图</p>
<p>import matplotlib,import matplotlib.pyplot as plt,fig=plt.figure(),ax=fig.add_subplot(111),ax.scatter(m[:,1],m[:2],15*array(l),15*array(l))</p>

<p>归一化特征值：</p>
<p>def autonorm(dataset)</p>
<p>&nbsp; minvals=dataset.min(0)</p>
<p>&nbsp; maxvals=dataset.max(0)</p>
<p>&nbsp; ranges=maxvals=minvals</p>
<p>&nbsp; normdataset=zeros(shape(dataset))</p>
<p>&nbsp; m=dataset.shape[0]</p>
<p>&nbsp; normdataset=dataset-tile(minvals,(m,1))</p>
<p>&nbsp; normdataset=dataset/tile(ranges,(m,1))</p>
<p>&nbsp; return normdataset,ranges,minvals</p>
<p>从文件名解析分类数字，例如文件名为9_45.txt,其表示数字9的第45个实例</p>
<p>filestr=filenamestr.split('.')[0],classnumstr=int(filestr.split('_')[0],</p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>

<hr />

<p>小白。勿念。</p>

<hr />

<p>作者：无名氏。</p>



</article>
<footer>
    <a href="/homepage/views/posts" class="js_goto_posts">返回目录 - 痕迹</a>
</footer>
<div class="browser js_browser">
    <img src="" />
</div>

<script src="/homepage/assets/script/main.js"></script>
</body>
</html>
